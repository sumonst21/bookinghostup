/*! mpce-image-hotspot-addon - v1.1 - 2017-11-02 */
function mpce_ihs_animateSelectedPoint(){jQuery(".mpce-hotspot-img-wrapprer > .mpce-hotspot-wrapprer .mpce-hotspot").bind("click",function(a){var b=jQuery(this).find(".hotspot-tip"),c=jQuery(this).find(".pulse-class"),d=c.data("color"),e=c.data("class");b.hasClass("tooltipstered")||jQuery(".mpce-hotspot-img-wrapprer").mpcehotspot(b),jQuery(this).hasClass("active")?(jQuery(this).find(".hotspot-tip").tooltipster("hide"),jQuery(c).removeClass("pulse"),""!==e?jQuery(c).removeClass(e):jQuery(c).css({border:"","-webkit-box-shadow":"","box-shadow":""})):(b.tooltipster("show"),jQuery(c).addClass("pulse"),""!==e?jQuery(c).addClass(e):jQuery(c).css({border:"1px solid "+d,"-webkit-box-shadow":"inset 0px 0px 15px 10px "+d,"box-shadow":"inset 0px 0px 15px 10px "+d}))})}function getShortcodeName(a){var b=a.parents().eq(1);return b=b.find(".motopress-block-content").find("div"),b.data("motopress-shortcode")}function mpce_ihs_getSelectedShortcode(){var a=jQuery("body").find(".motopress-drag-handle.ui-draggable-handle.motopress-selected");return getShortcodeName(a)}function isSelected(a){var b=a.closest(".motopress-block-content"),c=jQuery(b).children(),d=c.parents().eq(1);return b=d.find(".motopress-drag-handle.ui-draggable-handle.motopress-selected"),!!b.length}function mpce_ihs_redrawPoints(){jQuery("body").find(".mpce-hotspot-img-wrapprer").each(function(a,b){var c=jQuery(b),d=c.find(".mpce-hotspot-wrapprer");d=jQuery(d);var e=c.attr("class").replace("mpce-hotspot-img-wrapprer",""),f=c.attr("class").replace(/^(mpce-hotspot-wrapprer)/g,"");d.addClass(f),d.addClass(e);var g=c.find(".hotspot-tip");g.length&&g.filter(":not(.tooltipstered)").each(function(){c.mpcehotspot(jQuery(this))})})}jQuery(document).ready(function(){mpce_ihs_redrawPoints(),jQuery("body").click(function(a){var b=jQuery(a.target),c=getShortcodeName(b);mpce_ihs_redrawPoints(),"mpce_image_hotspot"===c?(jQuery(".hotspot-tip").each(function(a,b){jQuery(b).hasClass("tooltipstered")||jQuery(".mpce-hotspot-img-wrapprer").mpcehotspot(b),jQuery(b).tooltipster("hide")}),b.mousemove(function(a){var b=jQuery(a.target),c=b.parents().eq(1);c=c.find(".motopress-block-content"),c=c.find(".mpce-ihs-coords"),void 0!==b.attr("class")&&b.attr("class").match(/motopress-drag-handle ui-draggable-handle motopress-selected/)?c.removeClass("mpce-ihs-hidden"):c.addClass("mpce-ihs-hidden");var d=jQuery("body").find(".mpce-hotspot-img-wrapprer");d=jQuery(d);var e=d.width(),f=d.height(),g=100*(a.offsetX-d.css("marginLeft").replace("px",""))/e,h=100*(a.offsetY-d.css("marginTop").replace("px",""))/f;c.html(""+g.toFixed(2)+"%, "+h.toFixed(2)+"%")}).mouseout(function(){jQuery(".mpce-ihs-coords").addClass("mpce-ihs-hidden")})):"mpce_image_hotspot"!==mpce_ihs_getSelectedShortcode()&&jQuery(".hotspot-tip").tooltipster("hide"),mpce_ihs_animateSelectedPoint()}),$("body").on("MPCEObjectUpdated",function(a,b,c){mpce_ihs_redrawPoints()})});